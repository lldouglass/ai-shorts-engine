# =============================================================================
# AI Shorts Engine - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your API keys
#
# Required for production: At minimum, configure one LLM + one video gen option
# =============================================================================

# -----------------------------------------------------------------------------
# INFRASTRUCTURE (Required)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://shorts:shorts@localhost:5432/shorts
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Encryption key for OAuth tokens (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
ENCRYPTION_MASTER_KEY=

# -----------------------------------------------------------------------------
# LLM PROVIDER (Required - choose one)
# -----------------------------------------------------------------------------
# Options: openai, anthropic, stub
LLM_PROVIDER=openai

# OpenAI (https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-...

# Anthropic (https://console.anthropic.com/settings/keys)
# ANTHROPIC_API_KEY=sk-ant-...

# -----------------------------------------------------------------------------
# VIDEO GENERATION (Required for real videos)
# -----------------------------------------------------------------------------
# Options: luma, stub
VIDEO_GEN_PROVIDER=stub

# Luma AI (https://lumalabs.ai/dream-machine/api)
LUMA_API_KEY=luma-...

# -----------------------------------------------------------------------------
# IMAGE GENERATION (Alternative to video - AI images with motion)
# -----------------------------------------------------------------------------
# Set VISUAL_GEN_MODE=image to use images instead of video
VISUAL_GEN_MODE=video

# Options: dalle3, stub
IMAGE_GEN_PROVIDER=stub
IMAGE_GEN_QUALITY=hd

# DALL-E 3 uses OpenAI API key (same as above)

# -----------------------------------------------------------------------------
# RENDERING (Required for final video output)
# -----------------------------------------------------------------------------
# Options: creatomate, stub
RENDERER_PROVIDER=stub

# Creatomate (https://creatomate.com/docs/api)
CREATOMATE_API_KEY=
CREATOMATE_WEBHOOK_URL=

# -----------------------------------------------------------------------------
# VOICEOVER (Optional - for narration)
# -----------------------------------------------------------------------------
# Options: elevenlabs, edge_tts, stub
VOICEOVER_PROVIDER=stub

# ElevenLabs (https://elevenlabs.io/docs/api-reference)
ELEVENLABS_API_KEY=

# Edge TTS is free, no API key needed

# -----------------------------------------------------------------------------
# YOUTUBE PUBLISHING
# -----------------------------------------------------------------------------
PUBLISHER_YOUTUBE_ENABLED=false

# YouTube OAuth (https://console.cloud.google.com/apis/credentials)
# 1. Create OAuth 2.0 Client ID (Desktop or Web app)
# 2. Enable YouTube Data API v3
# 3. Add redirect URI to authorized redirects
YOUTUBE_CLIENT_ID=
YOUTUBE_CLIENT_SECRET=
YOUTUBE_REDIRECT_URI=http://localhost:8085/callback
YOUTUBE_MAX_UPLOADS_PER_DAY=50

# -----------------------------------------------------------------------------
# TIKTOK PUBLISHING
# -----------------------------------------------------------------------------
PUBLISHER_TIKTOK_ENABLED=false

# TikTok OAuth (https://developers.tiktok.com/apps/)
# 1. Create app in TikTok Developer Portal
# 2. Request Video Publishing permissions
# 3. Add redirect URI
TIKTOK_CLIENT_KEY=
TIKTOK_CLIENT_SECRET=
TIKTOK_REDIRECT_URI=http://localhost:8085/tiktok/callback
TIKTOK_MAX_POSTS_PER_DAY=50

# -----------------------------------------------------------------------------
# INSTAGRAM PUBLISHING
# -----------------------------------------------------------------------------
PUBLISHER_INSTAGRAM_ENABLED=false

# Instagram/Meta OAuth (https://developers.facebook.com/apps/)
# 1. Create Facebook App
# 2. Add Instagram Graph API product
# 3. Configure OAuth settings
INSTAGRAM_APP_ID=
INSTAGRAM_APP_SECRET=
INSTAGRAM_REDIRECT_URI=http://localhost:8085/instagram/callback
INSTAGRAM_MAX_POSTS_PER_DAY=25

# -----------------------------------------------------------------------------
# TOPIC GENERATION (Optional - for autonomous mode)
# -----------------------------------------------------------------------------
# Options: llm, stub
TOPIC_PROVIDER=stub

# -----------------------------------------------------------------------------
# AUTONOMOUS MODE (Fully hands-off operation)
# -----------------------------------------------------------------------------
AUTONOMOUS_ENABLED=false
AUTONOMOUS_BATCH_SIZE=5
AUTO_CHAIN_RENDER=false
AUTO_CHAIN_PUBLISH=false
AUTOPUBLISH_ENABLED=false

# -----------------------------------------------------------------------------
# QA VALIDATION
# -----------------------------------------------------------------------------
QA_ENABLED=true
QA_HOOK_CLARITY_THRESHOLD=0.7
QA_COHERENCE_THRESHOLD=0.7
QA_MAX_REGENERATION_ATTEMPTS=2

# -----------------------------------------------------------------------------
# ALERTING (Optional)
# -----------------------------------------------------------------------------
# Discord webhook for notifications
ALERT_DISCORD_WEBHOOK_URL=

# Email alerts
ALERT_EMAIL_SMTP_HOST=
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_FROM=
ALERT_EMAIL_USERNAME=
ALERT_EMAIL_PASSWORD=
# Comma-separated list
ALERT_EMAIL_TO=

ALERT_ON_QA_FAILURE=true
ALERT_ON_PIPELINE_FAILURE=true

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=console

# -----------------------------------------------------------------------------
# API SERVER
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false

# -----------------------------------------------------------------------------
# METRICS
# -----------------------------------------------------------------------------
METRICS_ENABLED=true
METRICS_RETENTION_DAYS=30
